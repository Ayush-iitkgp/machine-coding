---
description: Rules for Python 3.10 and FastAPI 0.115 backend development
globs: backend/**
alwaysApply: false
---

# Backend Tech Stack

- **Language:** Python 3.10 (Use Type Hints for all function signatures)
- **Framework:** FastAPI 0.115.0+
- **Validation:** Pydantic v2

# Coding Standards

- **Async First:** Use `async def` for all I/O bound operations (DB, External APIs).
- **Dependency Injection:** Use FastAPI's `Depends` for managing DB sessions and shared services.
- **Lifespan:** Use the modern `lifespan` context manager instead of deprecated `@app.on_event`.
- **Error Handling:** Use `HTTPException` with specific status codes. Implement custom exception handlers for consistency.
- **Response Models:** Always define `response_model` in routes to ensure data integrity.

# Directory Structure

- Follow `PEP 8` (snake_case for files and folders).
- Structure: `routers/`, `schemas/`, `models/`, `services/`.
